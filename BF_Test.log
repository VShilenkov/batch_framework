
d:\Projects\batch_framework>CALL BF_Bootstrap.bat 

d:\Projects\batch_framework>REM -> BF.BootStrap 

d:\Projects\batch_framework>SET BF.System.CallStack.File="callstack.log" 

d:\Projects\batch_framework>IF [] EQU [-INTERNAL_START] (CALL :CALL BF.BootStrap.Main )  ELSE (
DEL "callstack.log"  1>NUL 2>NUL  
 CALL :CALL BF.BootStrap.Prepare 
) 

d:\Projects\batch_framework>SET BF 
BF.System.CallStack.File="callstack.log"

d:\Projects\batch_framework>SET BF.System.Function.Name=BF.BootStrap.Prepare 

d:\Projects\batch_framework>SET /A BF.System.Function.Argc=0 

d:\Projects\batch_framework>SET "BF.System.Function.Argv=" 

d:\Projects\batch_framework>IF [BF.BootStrap.Prepare] EQU [] GOTO :CALL.RETURN 

d:\Projects\batch_framework>FOR %i IN (BF.BootStrap.Prepare) DO (
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!%i " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!BF.BootStrap.Prepare " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>IF NOT DEFINED BF.System.CallStack.Depth (SET /A BF.System.CallStack.Depth=-1 ) 

d:\Projects\batch_framework>SET /A BF.System.CallStack.Depth=!BF.System.CallStack.Depth! + 1 

d:\Projects\batch_framework>SET "_tab_string=" 

d:\Projects\batch_framework>IF NOT [0] EQU [0] (FOR /L %i IN (1 1 0) DO (SET "_tab_string=!_tab_string!-" ) ) 

d:\Projects\batch_framework>ECHO ->BF.BootStrap.Prepare  1>>"callstack.log" 

d:\Projects\batch_framework>CALL :BF.BootStrap.Prepare  

d:\Projects\batch_framework>REM -> BF.BootStrap.Prepare 

d:\Projects\batch_framework>SETLOCAL

d:\Projects\batch_framework>SET /A __RETURN_SUCCESS=0 

d:\Projects\batch_framework>SET /A __RETURN_UNKNOWN=1 

d:\Projects\batch_framework>REM -> BF.BootStrap.Prepare_INIT 

d:\Projects\batch_framework>SET /A __RETURN=1 

d:\Projects\batch_framework>REM -> BF.BootStrap.Prepare_BEGIN 

d:\Projects\batch_framework>SET BF_Start=#":<NUL ( SETLOCAL EnableDelayedExpansion#"#"& CALL SET "BF.System.CmdLine=%CMDCMDLINE%"#"#"& CALL SET "BF.Param[0]=%~f0"#"#"& CALL SET "BF.Param.String=%*")#"#"& "d:\Projects\batch_framework\BF_BootStrap.bat" -INTERNAL_START#"#"& FOR /F "UseBackQ Tokens=1,* Delims==" %i IN (`SET BF`) DO SET "%i="#" 

d:\Projects\batch_framework>REM -> BF.BootStrap.Prepare_END 

d:\Projects\batch_framework>SET /A __RETURN=0 

d:\Projects\batch_framework>REM <- BF.BootStrap.Prepare_RETURN 

d:\Projects\batch_framework>(
ENDLOCAL 
 SET "BF_Start=:<NUL ( SETLOCAL EnableDelayedExpansion& CALL SET "BF.System.CmdLine=%CMDCMDLINE%"& CALL SET "BF.Param[0]=%~f0"& CALL SET "BF.Param.String=%*")& "d:\Projects\batch_framework\BF_BootStrap.bat" -INTERNAL_START& FOR /F "UseBackQ Tokens=1,* Delims==" %i IN (`SET BF`) DO SET "%i=""  
 EXIT /B 0 
) 

d:\Projects\batch_framework>SET "_tab_string1=" 

d:\Projects\batch_framework>IF NOT [0] EQU [0] (FOR /L %i IN (1 1 0) DO (SET "_tab_string1=!_tab_string1!-" ) ) 

d:\Projects\batch_framework>ECHO <-BF.BootStrap.Prepare  1>>"callstack.log" 

d:\Projects\batch_framework>IF [0] GEQ [0] (SET /A BF.System.CallStack.Depth=0 - 1 ) 

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>REM <- BF.BootStrap 

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>(SETLOCAL EnableDelayedExpansion  & CALL SET "BF.System.CmdLine=%CMDCMDLINE%"  & CALL SET "BF.Param[0]=%~f0"  & CALL SET "BF.Param.String=%*" ) 0<NUL  & "d:\Projects\batch_framework\BF_BootStrap.bat" -INTERNAL_START  & FOR /F "UseBackQ Tokens=1,* Delims==" %i IN (`SET BF`) DO SET "%i=" 

d:\Projects\batch_framework>REM -> BF.BootStrap 

d:\Projects\batch_framework>SET BF.System.CallStack.File="callstack.log" 

d:\Projects\batch_framework>IF [-INTERNAL_START] EQU [-INTERNAL_START] (CALL :CALL BF.BootStrap.Main )  ELSE (
DEL "callstack.log"  1>NUL 2>NUL  
 CALL :CALL BF.BootStrap.Prepare 
) 

d:\Projects\batch_framework>SET BF 
BF.Param[0]=d:\Projects\batch_framework\BF_Test.bat
BF.System.CallStack.Depth=-1
BF.System.CallStack.File="callstack.log"
BF.System.CmdLine="C:\Windows\System32\cmd.exe" 
BF.System.Function.Argc=1
BF.System.Function.Name=BF.BootStrap.Prepare
BF_Start=:<NUL ( SETLOCAL EnableDelayedExpansion& CALL SET "BF.System.CmdLine=%CMDCMDLINE%"& CALL SET "BF.Param[0]=%~f0"& CALL SET "BF.Param.String=%*")& "d:\Projects\batch_framework\BF_BootStrap.bat" -INTERNAL_START& FOR /F "UseBackQ Tokens=1,* Delims==" %i IN (`SET BF`) DO SET "%i="

d:\Projects\batch_framework>SET BF.System.Function.Name=BF.BootStrap.Main 

d:\Projects\batch_framework>SET /A BF.System.Function.Argc=0 

d:\Projects\batch_framework>SET "BF.System.Function.Argv=" 

d:\Projects\batch_framework>IF [BF.BootStrap.Main] EQU [] GOTO :CALL.RETURN 

d:\Projects\batch_framework>FOR %i IN (BF.BootStrap.Main) DO (
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!%i " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!BF.BootStrap.Main " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>IF NOT DEFINED BF.System.CallStack.Depth (SET /A BF.System.CallStack.Depth=-1 ) 

d:\Projects\batch_framework>SET /A BF.System.CallStack.Depth=!BF.System.CallStack.Depth! + 1 

d:\Projects\batch_framework>SET "_tab_string=" 

d:\Projects\batch_framework>IF NOT [0] EQU [0] (FOR /L %i IN (1 1 0) DO (SET "_tab_string=!_tab_string!-" ) ) 

d:\Projects\batch_framework>ECHO ->BF.BootStrap.Main  1>>"callstack.log" 

d:\Projects\batch_framework>CALL :BF.BootStrap.Main  

d:\Projects\batch_framework>REM -> BF.BootStrap.Main 

d:\Projects\batch_framework>SETLOCAL EnableDelayedExpansion 

d:\Projects\batch_framework>SET /A __RETURN_SUCCESS=0 

d:\Projects\batch_framework>SET /A __RETURN_UNKNOWN=1 

d:\Projects\batch_framework>SET /A __RETURN_MISSED_PARAM=2 

d:\Projects\batch_framework>REM -> BF.BootStrap.Main_INIT 

d:\Projects\batch_framework>SET /A __RETURN=1 

d:\Projects\batch_framework>IF [d:\Projects\batch_framework\BF_Test.bat] EQU [] (
SET /A __RETURN=2  
 GOTO :BF.BootStrap.Main_RETURN 
) 

d:\Projects\batch_framework>SET "BF.Client.Script.File=d:\Projects\batch_framework\BF_Test.bat" 

d:\Projects\batch_framework>FOR %i in ("d:\Projects\batch_framework\BF_Test.bat") DO (
SET "BF.Client.Script.Path=%~dpi"  
 SET "BF.Client.Script.Name=%~ni"  
 SET "BF.Client.Script.Ext=%~xi" 
) 

d:\Projects\batch_framework>(
SET "BF.Client.Script.Path=d:\Projects\batch_framework\"  
 SET "BF.Client.Script.Name=BF_Test"  
 SET "BF.Client.Script.Ext=.bat" 
) 

d:\Projects\batch_framework>SET "BF.Exec.Tmp.Ext=.tmp" 

d:\Projects\batch_framework>SET "BF.Exec.Tmp.Name=BF_Test_BFExec" 

d:\Projects\batch_framework>SET "BF.Exec.Tmp.File=d:\Projects\batch_framework\BF_Test_BFExec.tmp" 

d:\Projects\batch_framework>SET "BF.Exec.Exec.File=d:\Projects\batch_framework\BF_Test_BFExec.bat" 

d:\Projects\batch_framework>REM -> BF.BootStrap.Main_BEGIN 

d:\Projects\batch_framework>SET /P ".=CALL :CALL BF.BootStrap.Init & GOTO :%%BF_Start%%"   1>d:\Projects\batch_framework\BF_Test_BFExec.tmp 0<NUL 

d:\Projects\batch_framework>CALL :CALL BF.BootStrap.Include  d:\Projects\batch_framework\BF_Test.bat d:\Projects\batch_framework\BF_Test_BFExec.tmp --no_init 

d:\Projects\batch_framework>SET BF 
BF.Client.Script.Ext=.bat
BF.Client.Script.File=d:\Projects\batch_framework\BF_Test.bat
BF.Client.Script.Name=BF_Test
BF.Client.Script.Path=d:\Projects\batch_framework\
BF.Exec.Exec.File=d:\Projects\batch_framework\BF_Test_BFExec.bat
BF.Exec.Tmp.Ext=.tmp
BF.Exec.Tmp.File=d:\Projects\batch_framework\BF_Test_BFExec.tmp
BF.Exec.Tmp.Name=BF_Test_BFExec
BF.Param[0]=d:\Projects\batch_framework\BF_Test.bat
BF.System.CallStack.Depth=0
BF.System.CallStack.File="callstack.log"
BF.System.CmdLine="C:\Windows\System32\cmd.exe" 
BF.System.Function.Argc=1
BF.System.Function.Name=BF.BootStrap.Main
BF_Start=:<NUL ( SETLOCAL EnableDelayedExpansion& CALL SET "BF.System.CmdLine=%CMDCMDLINE%"& CALL SET "BF.Param[0]=%~f0"& CALL SET "BF.Param.String=%*")& "d:\Projects\batch_framework\BF_BootStrap.bat" -INTERNAL_START& FOR /F "UseBackQ Tokens=1,* Delims==" %i IN (`SET BF`) DO SET "%i="

d:\Projects\batch_framework>SET BF.System.Function.Name=BF.BootStrap.Include 

d:\Projects\batch_framework>SET /A BF.System.Function.Argc=0 

d:\Projects\batch_framework>SET "BF.System.Function.Argv=" 

d:\Projects\batch_framework>IF [BF.BootStrap.Include] EQU [] GOTO :CALL.RETURN 

d:\Projects\batch_framework>FOR %i IN (BF.BootStrap.Include d:\Projects\batch_framework\BF_Test.bat d:\Projects\batch_framework\BF_Test_BFExec.tmp --no_init) DO (
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!%i " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!BF.BootStrap.Include " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!d:\Projects\batch_framework\BF_Test.bat " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!d:\Projects\batch_framework\BF_Test_BFExec.tmp " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!--no_init " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>IF NOT DEFINED BF.System.CallStack.Depth (SET /A BF.System.CallStack.Depth=-1 ) 

d:\Projects\batch_framework>SET /A BF.System.CallStack.Depth=!BF.System.CallStack.Depth! + 1 

d:\Projects\batch_framework>SET "_tab_string=" 

d:\Projects\batch_framework>IF NOT [1] EQU [0] (FOR /L %i IN (1 1 1) DO (SET "_tab_string=!_tab_string!-" ) ) 

d:\Projects\batch_framework>(SET "_tab_string=!_tab_string!-" ) 

d:\Projects\batch_framework>ECHO -->BF.BootStrap.Include  1>>"callstack.log" 

d:\Projects\batch_framework>CALL :BF.BootStrap.Include d:\Projects\batch_framework\BF_Test.bat d:\Projects\batch_framework\BF_Test_BFExec.tmp --no_init  

d:\Projects\batch_framework>REM -> BF.BootStrap.Include 

d:\Projects\batch_framework>SETLOCAL EnableDelayedExpansion 

d:\Projects\batch_framework>SET /A __RETURN_SUCCESS=0 

d:\Projects\batch_framework>SET /A __RETURN_UNKNOWN=1 

d:\Projects\batch_framework>SET /A __RETURN_MISSED_PARAM=2 

d:\Projects\batch_framework>SET /A __RETURN_FILE_NOT_FOUND=3 

d:\Projects\batch_framework>SET /A __RETURN=1 

d:\Projects\batch_framework>SET "__Include.File=d:\Projects\batch_framework\BF_Test.bat" 

d:\Projects\batch_framework>SET "__Target.File=d:\Projects\batch_framework\BF_BootStrap.bat" 

d:\Projects\batch_framework>SET /A __requre_init=1 

d:\Projects\batch_framework>IF NOT [d:\Projects\batch_framework\BF_Test_BFExec.tmp] EQU [] (IF [d:\Projects\batch_framework\BF_Test_BFExec.tmp] EQU [--no_init] (SET /A __requre_init=0 )  ELSE (
SET "__Target.File=d:\Projects\batch_framework\BF_Test_BFExec.tmp"  
 IF NOT [--no_init] EQU [] (IF [--no_init] EQU [--no_init] SET /A __requre_init=0 ) 
) ) 

d:\Projects\batch_framework>IF [d:\Projects\batch_framework\BF_Test.bat] EQU [] (
SET /A __RETURN=2  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>IF [d:\Projects\batch_framework\BF_Test_BFExec.tmp] EQU [] (
SET /A __RETURN=2  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>IF [0] EQU [1] (
SET "__Include.Function.Init=BF_Test.Init"  
 SET "__Include.Function.Init=!__Include.Function.Init:_=.!" 
) 

d:\Projects\batch_framework>IF NOT EXIST "d:\Projects\batch_framework\BF_Test.bat" (
SET /A __RETURN=3  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>IF NOT EXIST "d:\Projects\batch_framework\BF_Test_BFExec.tmp" (
SET /A __RETURN=3  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>ECHO.  1>>"d:\Projects\batch_framework\BF_Test_BFExec.tmp" 

d:\Projects\batch_framework>TYPE "d:\Projects\batch_framework\BF_Test.bat"  1>>"d:\Projects\batch_framework\BF_Test_BFExec.tmp" 

d:\Projects\batch_framework>SET /A __RETURN=0 

d:\Projects\batch_framework>REM <- BF.BootStrap.Include 

d:\Projects\batch_framework>(
ENDLOCAL 
 IF [0] EQU [1] (
CALL :  
 SET __RETURN=0 
)  
 EXIT /B 0 
) 

d:\Projects\batch_framework>SET "_tab_string1=" 

d:\Projects\batch_framework>IF NOT [1] EQU [0] (FOR /L %i IN (1 1 1) DO (SET "_tab_string1=!_tab_string1!-" ) ) 

d:\Projects\batch_framework>(SET "_tab_string1=!_tab_string1!-" ) 

d:\Projects\batch_framework>ECHO <--BF.BootStrap.Include  1>>"callstack.log" 

d:\Projects\batch_framework>IF [1] GEQ [0] (SET /A BF.System.CallStack.Depth=1 - 1 ) 

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>(
ECHO. 
 ECHO. 
 ECHO ::::::::::End of the original Client.Script file::::::::::  
 ECHO GOTO :eof  
 ECHO.
) 1>>d:\Projects\batch_framework\BF_Test_BFExec.tmp 

d:\Projects\batch_framework>CALL :CALL BF.BootStrap.Include d:\Projects\batch_framework\BF_BootStrap.bat d:\Projects\batch_framework\BF_Test_BFExec.tmp --no_init 

d:\Projects\batch_framework>SET BF 
BF.Client.Script.Ext=.bat
BF.Client.Script.File=d:\Projects\batch_framework\BF_Test.bat
BF.Client.Script.Name=BF_Test
BF.Client.Script.Path=d:\Projects\batch_framework\
BF.Exec.Exec.File=d:\Projects\batch_framework\BF_Test_BFExec.bat
BF.Exec.Tmp.Ext=.tmp
BF.Exec.Tmp.File=d:\Projects\batch_framework\BF_Test_BFExec.tmp
BF.Exec.Tmp.Name=BF_Test_BFExec
BF.Param[0]=d:\Projects\batch_framework\BF_Test.bat
BF.System.CallStack.Depth=0
BF.System.CallStack.File="callstack.log"
BF.System.CmdLine="C:\Windows\System32\cmd.exe" 
BF.System.Function.Argc=4
BF.System.Function.Argv=d:\Projects\batch_framework\BF_Test.bat d:\Projects\batch_framework\BF_Test_BFExec.tmp --no_init 
BF.System.Function.Name=BF.BootStrap.Include
BF_Start=:<NUL ( SETLOCAL EnableDelayedExpansion& CALL SET "BF.System.CmdLine=%CMDCMDLINE%"& CALL SET "BF.Param[0]=%~f0"& CALL SET "BF.Param.String=%*")& "d:\Projects\batch_framework\BF_BootStrap.bat" -INTERNAL_START& FOR /F "UseBackQ Tokens=1,* Delims==" %i IN (`SET BF`) DO SET "%i="

d:\Projects\batch_framework>SET BF.System.Function.Name=BF.BootStrap.Include 

d:\Projects\batch_framework>SET /A BF.System.Function.Argc=0 

d:\Projects\batch_framework>SET "BF.System.Function.Argv=" 

d:\Projects\batch_framework>IF [BF.BootStrap.Include] EQU [] GOTO :CALL.RETURN 

d:\Projects\batch_framework>FOR %i IN (BF.BootStrap.Include d:\Projects\batch_framework\BF_BootStrap.bat d:\Projects\batch_framework\BF_Test_BFExec.tmp --no_init) DO (
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!%i " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!BF.BootStrap.Include " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!d:\Projects\batch_framework\BF_BootStrap.bat " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!d:\Projects\batch_framework\BF_Test_BFExec.tmp " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!--no_init " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>IF NOT DEFINED BF.System.CallStack.Depth (SET /A BF.System.CallStack.Depth=-1 ) 

d:\Projects\batch_framework>SET /A BF.System.CallStack.Depth=!BF.System.CallStack.Depth! + 1 

d:\Projects\batch_framework>SET "_tab_string=" 

d:\Projects\batch_framework>IF NOT [1] EQU [0] (FOR /L %i IN (1 1 1) DO (SET "_tab_string=!_tab_string!-" ) ) 

d:\Projects\batch_framework>(SET "_tab_string=!_tab_string!-" ) 

d:\Projects\batch_framework>ECHO -->BF.BootStrap.Include  1>>"callstack.log" 

d:\Projects\batch_framework>CALL :BF.BootStrap.Include d:\Projects\batch_framework\BF_BootStrap.bat d:\Projects\batch_framework\BF_Test_BFExec.tmp --no_init  

d:\Projects\batch_framework>REM -> BF.BootStrap.Include 

d:\Projects\batch_framework>SETLOCAL EnableDelayedExpansion 

d:\Projects\batch_framework>SET /A __RETURN_SUCCESS=0 

d:\Projects\batch_framework>SET /A __RETURN_UNKNOWN=1 

d:\Projects\batch_framework>SET /A __RETURN_MISSED_PARAM=2 

d:\Projects\batch_framework>SET /A __RETURN_FILE_NOT_FOUND=3 

d:\Projects\batch_framework>SET /A __RETURN=1 

d:\Projects\batch_framework>SET "__Include.File=d:\Projects\batch_framework\BF_BootStrap.bat" 

d:\Projects\batch_framework>SET "__Target.File=d:\Projects\batch_framework\BF_BootStrap.bat" 

d:\Projects\batch_framework>SET /A __requre_init=1 

d:\Projects\batch_framework>IF NOT [d:\Projects\batch_framework\BF_Test_BFExec.tmp] EQU [] (IF [d:\Projects\batch_framework\BF_Test_BFExec.tmp] EQU [--no_init] (SET /A __requre_init=0 )  ELSE (
SET "__Target.File=d:\Projects\batch_framework\BF_Test_BFExec.tmp"  
 IF NOT [--no_init] EQU [] (IF [--no_init] EQU [--no_init] SET /A __requre_init=0 ) 
) ) 

d:\Projects\batch_framework>IF [d:\Projects\batch_framework\BF_BootStrap.bat] EQU [] (
SET /A __RETURN=2  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>IF [d:\Projects\batch_framework\BF_Test_BFExec.tmp] EQU [] (
SET /A __RETURN=2  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>IF [0] EQU [1] (
SET "__Include.Function.Init=BF_BootStrap.Init"  
 SET "__Include.Function.Init=!__Include.Function.Init:_=.!" 
) 

d:\Projects\batch_framework>IF NOT EXIST "d:\Projects\batch_framework\BF_BootStrap.bat" (
SET /A __RETURN=3  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>IF NOT EXIST "d:\Projects\batch_framework\BF_Test_BFExec.tmp" (
SET /A __RETURN=3  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>ECHO.  1>>"d:\Projects\batch_framework\BF_Test_BFExec.tmp" 

d:\Projects\batch_framework>TYPE "d:\Projects\batch_framework\BF_BootStrap.bat"  1>>"d:\Projects\batch_framework\BF_Test_BFExec.tmp" 

d:\Projects\batch_framework>SET /A __RETURN=0 

d:\Projects\batch_framework>REM <- BF.BootStrap.Include 

d:\Projects\batch_framework>(
ENDLOCAL 
 IF [0] EQU [1] (
CALL :  
 SET __RETURN=0 
)  
 EXIT /B 0 
) 

d:\Projects\batch_framework>SET "_tab_string1=" 

d:\Projects\batch_framework>IF NOT [1] EQU [0] (FOR /L %i IN (1 1 1) DO (SET "_tab_string1=!_tab_string1!-" ) ) 

d:\Projects\batch_framework>(SET "_tab_string1=!_tab_string1!-" ) 

d:\Projects\batch_framework>ECHO <--BF.BootStrap.Include  1>>"callstack.log" 

d:\Projects\batch_framework>IF [1] GEQ [0] (SET /A BF.System.CallStack.Depth=1 - 1 ) 

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>IF EXIST "d:\Projects\batch_framework\BF_Test_BFExec.bat" (DEL "d:\Projects\batch_framework\BF_Test_BFExec.bat"  1>NUL 2>NUL ) 

d:\Projects\batch_framework>REN "d:\Projects\batch_framework\BF_Test_BFExec.tmp" "BF_Test_BFExec.bat" 

d:\Projects\batch_framework>CALL d:\Projects\batch_framework\BF_Test_BFExec.bat 

d:\Projects\batch_framework>CALL :CALL BF.BootStrap.Init   & GOTO :%BF_Start%  

d:\Projects\batch_framework>SET BF 
BF.Client.Script.Ext=.bat
BF.Client.Script.File=d:\Projects\batch_framework\BF_Test.bat
BF.Client.Script.Name=BF_Test
BF.Client.Script.Path=d:\Projects\batch_framework\
BF.Exec.Exec.File=d:\Projects\batch_framework\BF_Test_BFExec.bat
BF.Exec.Tmp.Ext=.tmp
BF.Exec.Tmp.File=d:\Projects\batch_framework\BF_Test_BFExec.tmp
BF.Exec.Tmp.Name=BF_Test_BFExec
BF.Param[0]=d:\Projects\batch_framework\BF_Test.bat
BF.System.CallStack.Depth=0
BF.System.CallStack.File="callstack.log"
BF.System.CmdLine="C:\Windows\System32\cmd.exe" 
BF.System.Function.Argc=4
BF.System.Function.Argv=d:\Projects\batch_framework\BF_BootStrap.bat d:\Projects\batch_framework\BF_Test_BFExec.tmp --no_init 
BF.System.Function.Name=BF.BootStrap.Include
BF_Start=:<NUL ( SETLOCAL EnableDelayedExpansion& CALL SET "BF.System.CmdLine=%CMDCMDLINE%"& CALL SET "BF.Param[0]=%~f0"& CALL SET "BF.Param.String=%*")& "d:\Projects\batch_framework\BF_BootStrap.bat" -INTERNAL_START& FOR /F "UseBackQ Tokens=1,* Delims==" %i IN (`SET BF`) DO SET "%i="

d:\Projects\batch_framework>SET BF.System.Function.Name=BF.BootStrap.Init 

d:\Projects\batch_framework>SET /A BF.System.Function.Argc=0 

d:\Projects\batch_framework>SET "BF.System.Function.Argv=" 

d:\Projects\batch_framework>IF [BF.BootStrap.Init] EQU [] GOTO :CALL.RETURN 

d:\Projects\batch_framework>FOR %i IN (BF.BootStrap.Init) DO (
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!%i " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!BF.BootStrap.Init " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>IF NOT DEFINED BF.System.CallStack.Depth (SET /A BF.System.CallStack.Depth=-1 ) 

d:\Projects\batch_framework>SET /A BF.System.CallStack.Depth=!BF.System.CallStack.Depth! + 1 

d:\Projects\batch_framework>SET "_tab_string=" 

d:\Projects\batch_framework>IF NOT [1] EQU [0] (FOR /L %i IN (1 1 1) DO (SET "_tab_string=!_tab_string!-" ) ) 

d:\Projects\batch_framework>(SET "_tab_string=!_tab_string!-" ) 

d:\Projects\batch_framework>ECHO -->BF.BootStrap.Init  1>>"callstack.log" 

d:\Projects\batch_framework>CALL :BF.BootStrap.Init  

d:\Projects\batch_framework>REM -> BF.BootStrap.Init 

d:\Projects\batch_framework>FOR %P IN ((null)) DO (
REM TODO Parse input params  
 ECHO %P 
) 

d:\Projects\batch_framework>REM <- BF.BootStrap.Init 

d:\Projects\batch_framework>GOTO :eof 

d:\Projects\batch_framework>SET "_tab_string1=" 

d:\Projects\batch_framework>IF NOT [1] EQU [0] (FOR /L %i IN (1 1 1) DO (SET "_tab_string1=!_tab_string1!-" ) ) 

d:\Projects\batch_framework>(SET "_tab_string1=!_tab_string1!-" ) 

d:\Projects\batch_framework>ECHO <--BF.BootStrap.Init  1>>"callstack.log" 

d:\Projects\batch_framework>IF [1] GEQ [0] (SET /A BF.System.CallStack.Depth=1 - 1 ) 

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>REM -> %BF_Start% 

d:\Projects\batch_framework>CALL :CALL BF.BootStrap.Include "BF_DateTime.bat" 

d:\Projects\batch_framework>SET BF 
BF.Client.Script.Ext=.bat
BF.Client.Script.File=d:\Projects\batch_framework\BF_Test.bat
BF.Client.Script.Name=BF_Test
BF.Client.Script.Path=d:\Projects\batch_framework\
BF.Exec.Exec.File=d:\Projects\batch_framework\BF_Test_BFExec.bat
BF.Exec.Tmp.Ext=.tmp
BF.Exec.Tmp.File=d:\Projects\batch_framework\BF_Test_BFExec.tmp
BF.Exec.Tmp.Name=BF_Test_BFExec
BF.Param[0]=d:\Projects\batch_framework\BF_Test.bat
BF.System.CallStack.Depth=0
BF.System.CallStack.File="callstack.log"
BF.System.CmdLine="C:\Windows\System32\cmd.exe" 
BF.System.Function.Argc=1
BF.System.Function.Name=BF.BootStrap.Init
BF_Start=:<NUL ( SETLOCAL EnableDelayedExpansion& CALL SET "BF.System.CmdLine=%CMDCMDLINE%"& CALL SET "BF.Param[0]=%~f0"& CALL SET "BF.Param.String=%*")& "d:\Projects\batch_framework\BF_BootStrap.bat" -INTERNAL_START& FOR /F "UseBackQ Tokens=1,* Delims==" %i IN (`SET BF`) DO SET "%i="

d:\Projects\batch_framework>SET BF.System.Function.Name=BF.BootStrap.Include 

d:\Projects\batch_framework>SET /A BF.System.Function.Argc=0 

d:\Projects\batch_framework>SET "BF.System.Function.Argv=" 

d:\Projects\batch_framework>IF [BF.BootStrap.Include] EQU [] GOTO :CALL.RETURN 

d:\Projects\batch_framework>FOR %i IN (BF.BootStrap.Include "BF_DateTime.bat") DO (
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!%i " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!BF.BootStrap.Include " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!"BF_DateTime.bat" " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>IF NOT DEFINED BF.System.CallStack.Depth (SET /A BF.System.CallStack.Depth=-1 ) 

d:\Projects\batch_framework>SET /A BF.System.CallStack.Depth=!BF.System.CallStack.Depth! + 1 

d:\Projects\batch_framework>SET "_tab_string=" 

d:\Projects\batch_framework>IF NOT [1] EQU [0] (FOR /L %i IN (1 1 1) DO (SET "_tab_string=!_tab_string!-" ) ) 

d:\Projects\batch_framework>(SET "_tab_string=!_tab_string!-" ) 

d:\Projects\batch_framework>ECHO -->BF.BootStrap.Include  1>>"callstack.log" 

d:\Projects\batch_framework>CALL :BF.BootStrap.Include "BF_DateTime.bat"  

d:\Projects\batch_framework>REM -> BF.BootStrap.Include 

d:\Projects\batch_framework>SETLOCAL EnableDelayedExpansion 

d:\Projects\batch_framework>SET /A __RETURN_SUCCESS=0 

d:\Projects\batch_framework>SET /A __RETURN_UNKNOWN=1 

d:\Projects\batch_framework>SET /A __RETURN_MISSED_PARAM=2 

d:\Projects\batch_framework>SET /A __RETURN_FILE_NOT_FOUND=3 

d:\Projects\batch_framework>SET /A __RETURN=1 

d:\Projects\batch_framework>SET "__Include.File=BF_DateTime.bat" 

d:\Projects\batch_framework>SET "__Target.File=d:\Projects\batch_framework\BF_Test_BFExec.bat" 

d:\Projects\batch_framework>SET /A __requre_init=1 

d:\Projects\batch_framework>IF NOT [] EQU [] (IF [] EQU [--no_init] (SET /A __requre_init=0 )  ELSE (
SET "__Target.File="  
 IF NOT [] EQU [] (IF [] EQU [--no_init] SET /A __requre_init=0 ) 
) ) 

d:\Projects\batch_framework>IF [BF_DateTime.bat] EQU [] (
SET /A __RETURN=2  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>IF [d:\Projects\batch_framework\BF_Test_BFExec.bat] EQU [] (
SET /A __RETURN=2  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>IF [1] EQU [1] (
SET "__Include.Function.Init=BF_DateTime.Init"  
 SET "__Include.Function.Init=!__Include.Function.Init:_=.!" 
) 

d:\Projects\batch_framework>IF NOT EXIST "BF_DateTime.bat" (
SET /A __RETURN=3  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>IF NOT EXIST "d:\Projects\batch_framework\BF_Test_BFExec.bat" (
SET /A __RETURN=3  
 SET /A __requre_init=0  
 GOTO :BF.BootStrap.Include_RETURN 
) 

d:\Projects\batch_framework>ECHO.  1>>"d:\Projects\batch_framework\BF_Test_BFExec.bat" 

d:\Projects\batch_framework>TYPE "BF_DateTime.bat"  1>>"d:\Projects\batch_framework\BF_Test_BFExec.bat" 

d:\Projects\batch_framework>SET /A __RETURN=0 

d:\Projects\batch_framework>REM <- BF.BootStrap.Include 

d:\Projects\batch_framework>(
ENDLOCAL 
 IF [1] EQU [1] (
CALL :BF.DateTime.Init  
 SET __RETURN=0 
)  
 EXIT /B 0 
) 

d:\Projects\batch_framework>Echo Its ME! DATE TIME 
Its ME DATE TIME

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>SET "_tab_string1=" 

d:\Projects\batch_framework>IF NOT [1] EQU [0] (FOR /L %i IN (1 1 1) DO (SET "_tab_string1=!_tab_string1!-" ) ) 

d:\Projects\batch_framework>(SET "_tab_string1=!_tab_string1!-" ) 

d:\Projects\batch_framework>ECHO <--BF.BootStrap.Include  1>>"callstack.log" 

d:\Projects\batch_framework>IF [1] GEQ [0] (SET /A BF.System.CallStack.Depth=1 - 1 ) 

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>REM -> BF_Test.Main 

d:\Projects\batch_framework>ECHO Hello BF! 
Hello BF

d:\Projects\batch_framework>REM <- BF_Test.Main 

d:\Projects\batch_framework>EXIT /B 

d:\Projects\batch_framework>CALL :CALL BF.BootStrap.ClearLocal 

d:\Projects\batch_framework>SET BF 
BF.Client.Script.Ext=.bat
BF.Client.Script.File=d:\Projects\batch_framework\BF_Test.bat
BF.Client.Script.Name=BF_Test
BF.Client.Script.Path=d:\Projects\batch_framework\
BF.Exec.Exec.File=d:\Projects\batch_framework\BF_Test_BFExec.bat
BF.Exec.Tmp.Ext=.tmp
BF.Exec.Tmp.File=d:\Projects\batch_framework\BF_Test_BFExec.tmp
BF.Exec.Tmp.Name=BF_Test_BFExec
BF.Param[0]=d:\Projects\batch_framework\BF_Test.bat
BF.System.CallStack.Depth=0
BF.System.CallStack.File="callstack.log"
BF.System.CmdLine="C:\Windows\System32\cmd.exe" 
BF.System.Function.Argc=2
BF.System.Function.Argv="BF_DateTime.bat" 
BF.System.Function.Name=BF.BootStrap.Include
BF_Start=:<NUL ( SETLOCAL EnableDelayedExpansion& CALL SET "BF.System.CmdLine=%CMDCMDLINE%"& CALL SET "BF.Param[0]=%~f0"& CALL SET "BF.Param.String=%*")& "d:\Projects\batch_framework\BF_BootStrap.bat" -INTERNAL_START& FOR /F "UseBackQ Tokens=1,* Delims==" %i IN (`SET BF`) DO SET "%i="

d:\Projects\batch_framework>SET BF.System.Function.Name=BF.BootStrap.ClearLocal 

d:\Projects\batch_framework>SET /A BF.System.Function.Argc=0 

d:\Projects\batch_framework>SET "BF.System.Function.Argv=" 

d:\Projects\batch_framework>IF [BF.BootStrap.ClearLocal] EQU [] GOTO :CALL.RETURN 

d:\Projects\batch_framework>FOR %i IN (BF.BootStrap.ClearLocal) DO (
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!%i " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>(
IF NOT [!BF.System.Function.Argc!] EQU [0] (SET "BF.System.Function.Argv=!BF.System.Function.Argv!BF.BootStrap.ClearLocal " )  
 SET /A BF.System.Function.Argc=!BF.System.Function.Argc! + 1 
) 

d:\Projects\batch_framework>IF NOT DEFINED BF.System.CallStack.Depth (SET /A BF.System.CallStack.Depth=-1 ) 

d:\Projects\batch_framework>SET /A BF.System.CallStack.Depth=!BF.System.CallStack.Depth! + 1 

d:\Projects\batch_framework>SET "_tab_string=" 

d:\Projects\batch_framework>IF NOT [1] EQU [0] (FOR /L %i IN (1 1 1) DO (SET "_tab_string=!_tab_string!-" ) ) 

d:\Projects\batch_framework>(SET "_tab_string=!_tab_string!-" ) 

d:\Projects\batch_framework>ECHO -->BF.BootStrap.ClearLocal  1>>"callstack.log" 

d:\Projects\batch_framework>CALL :BF.BootStrap.ClearLocal  

d:\Projects\batch_framework>SET /A __=0 

d:\Projects\batch_framework>FOR /F "UseBackQ Tokens=1,* Delims==" %i IN (`SET __`) DO SET "%i=" 

d:\Projects\batch_framework>SET "__=" 

d:\Projects\batch_framework>SET "__function_argc=" 

d:\Projects\batch_framework>SET "__RETURN=" 

d:\Projects\batch_framework>SET "__RETURN_MISSED_PARAM=" 

d:\Projects\batch_framework>SET "__RETURN_SUCCESS=" 

d:\Projects\batch_framework>SET "__RETURN_UNKNOWN=" 

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>SET "_tab_string1=" 

d:\Projects\batch_framework>IF NOT [1] EQU [0] (FOR /L %i IN (1 1 1) DO (SET "_tab_string1=!_tab_string1!-" ) ) 

d:\Projects\batch_framework>(SET "_tab_string1=!_tab_string1!-" ) 

d:\Projects\batch_framework>ECHO <--BF.BootStrap.ClearLocal  1>>"callstack.log" 

d:\Projects\batch_framework>IF [1] GEQ [0] (SET /A BF.System.CallStack.Depth=1 - 1 ) 

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>REM -> BF.BootStrap.Main_END 

d:\Projects\batch_framework>SET /A __RETURN=0 

d:\Projects\batch_framework>REM <- BF.BootStrap.Main 

d:\Projects\batch_framework>(
ENDLOCAL 
 EXIT /B 0 
) 

d:\Projects\batch_framework>SET "_tab_string1=" 

d:\Projects\batch_framework>IF NOT [0] EQU [0] (FOR /L %i IN (1 1 0) DO (SET "_tab_string1=!_tab_string1!-" ) ) 

d:\Projects\batch_framework>ECHO <-BF.BootStrap.Main  1>>"callstack.log" 

d:\Projects\batch_framework>IF [0] GEQ [0] (SET /A BF.System.CallStack.Depth=0 - 1 ) 

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>REM <- BF.BootStrap 

d:\Projects\batch_framework>EXIT /B 0 

d:\Projects\batch_framework>SET "BF.System.CallStack.Depth=" 

d:\Projects\batch_framework>SET "BF.System.CallStack.File=" 

d:\Projects\batch_framework>SET "BF.System.Function.Argc=" 

d:\Projects\batch_framework>SET "BF.System.Function.Name=" 

d:\Projects\batch_framework>SET "BF_Start=" 
